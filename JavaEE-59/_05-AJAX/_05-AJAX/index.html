<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AJAX</title>
</head>
<body>
<h1>Async JavaScript And XML</h1>
<h2 id="display">What is AJAX.?</h2>
<form action="customer">
    <input type="text" name="id">
    <input type="text" name="name">
    <button type="button" id="btn">Send</button>
</form>

<script>

    let btn = document.getElementById("btn");
    btn.addEventListener("click", function () {

        console.log("Started")

        let http = new XMLHttpRequest();
        //Synchronous means blocking
        //Asynchronous means non-blocking
        //if the third argument is set to false then it is synchronous
        //by default it is true and ajax is one of the Asynchronous APIS
        http.open("get","db/db.txt",true);
        http.send();

        console.log(http.readyState,http.status); //(false) 4 200 //true 1 0

        http.onreadystatechange=function (){
            console.log("State Changed",http.readyState,http.status);
            if(http.readyState==4 && http.status==200){
                console.log(http.responseText);
            }
        }

        console.log("Ended")


    });

</script>

</body>
</html>